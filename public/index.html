<!doctype html>
<html ng-app="sotuApp">
<head>
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF8">	
	
	<!-- Angular.js -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.5/angular-animate.min.js"></script>

	<!-- Pym.js -->
	<script src="pym.js"></script>
	
	<!-- I just use D3 for the d3.map function... probably should just get rid of it -->
	<script src="http://d3js.org/d3.v3.js" charset="utf-8"></script> 
	
	<!-- UUID generator library -->
	<script src="uuid.js" charset="utf-8"></script> 
	
	<!-- FontAwesome -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Local styles -->
	<link href="styles.css" rel="stylesheet">
<head>

<body>
	<div class="content" ng-controller="sotuController">
		<div class="login" >
			<h1>Save your place</h1>
			<h2>Log in to save your score and check back after the speech to see how you did.</h2>
			<label>Email</label>
			<input type="text" placeholder="you@email.com" ng-model="email"/>
			<input type="button" value="Go" ng-click="submitUser()">
			<label id="or">or</label>
			<input type="button" class="facebook" value="Sign on using Facebook" ng-click="FBlogin()" />
		</div>
		
		<div class="success">
			<i class="fa fa-check-circle"></i> You're logged in!
		</div>
		
		<div class="guessContainer" ng-repeat="keyword in keywords"  ng-init="submitted='submit'" number="{{$index + 1}}" >
			<h1>{{ keyword.phrase }}</h1>
			<p>{{ keyword.intro }}</p>
			<div class="quoteBox">
				<div class="quote" ng-show="currentQuote == $index" ng-repeat="quote in keyword.quotes" ng-bind-html="renderHTML(quote)"></div>
			</div>
			<div class="chart">
				<div class="header">
					Number of "{{keyword.phrase}}" SOTU mentions, by year
				</div>
				<div class="chartContainer" height="{{ chartHeight }}px">
					<bar ng-repeat="year in keyword.years" year="{{year.year}}" style="width: {{barWidth(year.count, keyword.years)}}%; height: {{barHeight(year.count, keyword.years)}}px; top: {{barTop(year.count, keyword.years)}}px; left: {{barLeft(year.year, keyword.years)}}%; color: {{barColor(year.count, year.year, keyword.years)}}; background-color: {{barBackgroundColor(year.count, year.year, keyword.years)}}">{{ year.count }}</bar>
				</div>
			</div>
			<p>In his upcoming SOTU, how many times do you think Obama will mention <strong>{{ keyword.phrase.toLowerCase() }}</strong>?</p>			
			<div ng-class="{sliderBox: submitted != 'submitted', 'sliderBox disabled': submitted == 'submitted'}" ng-mousedown = "insertBar(keyword)">
				<input type="text" ng-model="keyword.guess" ng-change="applyGuess(keyword.guess, keyword)" />
				<input type="range" name="slider-fill" data-highlight="true" min="0" max="40" ng-model="keyword.guess" ng-click="applyGuess(keyword.guess, keyword)" ng-change="applyGuess(keyword.guess, keyword)">
				<div style="clear:both"></div>
			</div>
			<div class="buttonBox">
				<input type="button" ng-class="{submitted: submitted == 'submitted'}" value="{{submitted}}" ng-click="submitGuess(keyword.guess, keyword); submitted = 'submitted';" />
			</div>
		</div>
		
			
	</div>
	
	<button onclick="clickButton()">fdfd</button>
	
</body>

<script type = "text/javascript" src="data.json"></script>
<script type="text/javascript" src="scripts.js"></script>

</html>